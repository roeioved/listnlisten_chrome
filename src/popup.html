<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <link href="style/style.css" rel="stylesheet" type="text/css" />

    <script src="resources/jquery-1.7.1.min.js" type="text/javascript"></script>

    <script>
        function openPlayerTab() {
            chrome.tabs.query( {title:'List {n} Listen'}, function(tabs) {
                if (tabs && tabs.length > 0) {
                    for (var idx in tabs) {
                        var tab = tabs[idx];
                        chrome.tabs.update(tab.id, {selected: true});
                    }
                } else {
                    chrome.tabs.create( {url:'player.html'}, function(tab) {
                        if (tab) {
                            //todo:store tab id
                        }
                    });
                }
            });
        }
    </script>
</head>

<body>
    <a href="#" onclick="openPlayerTab();">Open Player</a>
</body>

</html>