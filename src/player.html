<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    
<head>
    <title>List {n} Listen</title>

    <link href="style/reset.css" rel="stylesheet" type="text/css" />
    <link href="style/player.css" rel="stylesheet" type="text/css" />
    <link href="style/style.css" rel="stylesheet" type="text/css" />

    <script src="resources/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="resources/jquery.tubeplayer.min.js" type="text/javascript"></script>
    <script src="resources/jquery.spritely-0.6.1.js" type="text/javascript"></script>
    <script src="resources/jquery.random.min.js" type="text/javascript"></script>
    <script src="resources/underscore.min.js" type="text/javascript"></script>
    <script src="resources/playlist.js" type="text/javascript"></script>
    <script src="resources/player.js" type="text/javascript"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            getPlaylist();
            
            $('#clouds').pan({fps: 30, speed: 0.7, dir: 'left', depth: 10});
            $('#hill').pan({fps: 30, speed: 0.2, dir: 'left', depth: 10});
        });
        
        chrome.extension.onRequest.addListener(
            function (request, sender, sendResponse) {
                handleRequest(request, sendResponse);
            }
        );
    </script>
</head>

<body>
    <div id="sky" class="stage"></div>
    <div id="clouds" class="stage"></div>
    <div id="hill" class="stage"></div>

    <div class="wrap">
        <div id="player_container">
            <div id="player" class="loading flex-video"></div>
        </div>

        <div id="player_actions">
            <ul id="play_controls">
                <li class="control prev" title="Previous"></li>
                <li class="control next" title="Next"></li>
            </ul>

            <ul id="play_modes">
                <li class="shuffle off" title="Toggle Shuffle" value="0"></li>
                <li class="repeat off" title="Toggle Repeat" value="0"></li>
            </ul>
            <ul id="playlist_actions">
                <li class="clear off" title="Clear Playlist"></li>
            </ul>
        </div>

        <div id="playlist_container">
            <ul id="playlist"></ul>
        </div>
    </div>

    <!--
    <a target="_blank" href="https://www.facebook.com/dialog/oauth?client_id=162003873930831&response_type=token&scope=&redirect_uri=http://www.facebook.com/connect/login_success.html">Facebook Connect</a>
    <script>
        console.log(localStorage);

        if (localStorage.accessToken) {
            var graphUrl = "https://graph.facebook.com/me?" + localStorage.accessToken + "&callback=displayUser";
            console.log(graphUrl);

            var script = document.createElement("script");
            script.src = graphUrl;
            document.body.appendChild(script);

            function displayUser(user) {
                console.log(user);
            }
        }
    </script>
    -->
</body>

</html>
